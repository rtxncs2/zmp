<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
        }

        .player {
            background: #0f1419;
            padding: 30px;
            border-radius: 20px;
            width: 380px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
        }

        h2 {
            text-align: center;
            color: white;
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 1px;
        }

        /* Playlist Styling */
        .playlist {
            max-height: 180px;
            overflow-y: auto;
            margin-bottom: 20px;
            border-radius: 12px;
            background: #161b22;
            border: 1px solid #21262d;
        }

        .playlist::-webkit-scrollbar {
            width: 5px;
        }
        .playlist::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 10px;
        }

        .song {
            padding: 14px 18px;
            cursor: pointer;
            border-bottom: 1px solid #21262d;
            color: #8b949e;
            transition: 0.2s;
            font-size: 14px;
        }

        .song:hover {
            background: #1c2128;
            color: white;
        }

        .song.active {
            background: #23863622;
            color: #58a6ff;
            border-left: 4px solid #58a6ff;
        }

        .current-song {
            text-align: center;
            color: #58a6ff;
            font-weight: 600;
            margin-bottom: 15px;
            min-height: 24px;
            font-size: 18px;
        }

        /* Seek Bar Customization */
        input[type="range"] {
            width: 100%;
            cursor: pointer;
            accent-color: #58a6ff;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #8b949e;
            margin-top: 5px;
            margin-bottom: 25px;
        }

        /* BUTTON FIXES START HERE */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        button {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            border: none;
            background: #21262d;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            
            /* The Fix: Target the font size of the Emoji/Character */
            font-size: 24px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        button:hover {
            background: #30363d;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.4);
        }

        button:active {
            transform: translateY(0);
        }

        #playBtn {
            width: 80px;
            height: 80px;
            background: #58a6ff;
            color: white;
            font-size: 32px; /* Bigger icon for the main button */
        }

        #playBtn:hover {
            background: #79bcff;
        }
    </style>
</head>

<body>

<div class="player">
    <h2>Music Player</h2>

    <div class="playlist" id="playlist"></div>

    <div class="current-song" id="currentSong">Select a song</div>

    <input type="range" id="seekBar" value="0" min="0" max="100">

    <div class="time-display">
        <span id="currentTime">0:00</span>
        <span id="duration">0:00</span>
    </div>

    <div class="controls">
        <button onclick="prevSong()">⏮</button>
        <button id="playBtn" onclick="togglePlay()">▶</button>
        <button onclick="nextSong()">⏭</button>
    </div>

    <audio id="audio"></audio>
</div>

<script>
    const songs = [
        {
            title: "Kunjikkavil Meghame",
            url: "https://raw.githubusercontent.com/rtxncs2/zmp/d7dc121c0cc426dfceedee7e8d7672f1665aafa7/Kunjikkavil%20Meghame.mp3"
        },
        {
            title: "Puthumazha",
            url: "https://raw.githubusercontent.com/rtxncs2/zmp/d7dc121c0cc426dfceedee7e8d7672f1665aafa7/Puthu%20Mazha.mp3"
        },
        {
            title: "Rahasyamay",
            url: "https://raw.githubusercontent.com/rtxncs2/zmp/d7dc121c0cc426dfceedee7e8d7672f1665aafa7/Rahasyamayi.mp3"
        }
    ];

    const audio = document.getElementById("audio");
    const playlist = document.getElementById("playlist");
    const seekBar = document.getElementById("seekBar");
    const playBtn = document.getElementById("playBtn");
    const currentSongEl = document.getElementById("currentSong");
    const currentTimeEl = document.getElementById("currentTime");
    const durationEl = document.getElementById("duration");

    let currentIndex = 0;

    /* Build playlist */
    songs.forEach((song, i) => {
        const div = document.createElement("div");
        div.className = "song";
        div.textContent = `${i + 1}. ${song.title}`;
        div.onclick = () => loadSong(i, true);
        playlist.appendChild(div);
    });

    function loadSong(index, autoPlay = false) {
        currentIndex = index;
        audio.src = songs[index].url;
        currentSongEl.textContent = songs[index].title;

        document.querySelectorAll(".song").forEach((s, i) => {
            s.classList.toggle("active", i === index);
        });

        if (autoPlay) audio.play();
    }

    function togglePlay() {
        if (!audio.src) {
            loadSong(0, true);
        } else {
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
            }
        }
    }

    function prevSong() {
        loadSong((currentIndex - 1 + songs.length) % songs.length, true);
    }

    function nextSong() {
        loadSong((currentIndex + 1) % songs.length, true);
    }

    /* Audio events */
    audio.addEventListener("play", () => {
        playBtn.textContent = "⏸";
    });

    audio.addEventListener("pause", () => {
        playBtn.textContent = "▶";
    });

    audio.addEventListener("ended", nextSong);

    audio.addEventListener("timeupdate", () => {
        if (!audio.duration) return;
        seekBar.value = (audio.currentTime / audio.duration) * 100;
        currentTimeEl.textContent = formatTime(audio.currentTime);
    });

    audio.addEventListener("loadedmetadata", () => {
        durationEl.textContent = formatTime(audio.duration);
    });

    seekBar.addEventListener("input", () => {
        if (audio.duration) {
            audio.currentTime = (seekBar.value / 100) * audio.duration;
        }
    });

    function formatTime(sec) {
        const m = Math.floor(sec / 60);
        const s = Math.floor(sec % 60);
        return `${m}:${s.toString().padStart(2, "0")}`;
    }

    /* Load first song initially but don't autoplay */
    loadSong(0, false);
</script>

</body>
</html>
